<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta name="description" content="A personal blog site built using Next.js"/><meta property="og:image" content="https://og-image.vercel.app/Nilanshu&#x27;s%20blog%20site.png?theme=light&amp;md=0&amp;fontSize=75px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><meta name="og:title" content="Nilanshu&#x27;s blog site"/><meta name="twitter:card" content="summary_large_image"/><link rel="preload" as="image" imagesrcset="/nextjs-blog/images/profile.jpg?imwidth=128 1x, /nextjs-blog/images/profile.jpg?imwidth=256 2x"/><link rel="icon" href="../favicon.ico"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/><title>Deploying a static Next Js website to Github Pages</title><meta name="next-head-count" content="10"/><link rel="preload" href="/nextjs-blog/_next/static/css/0275f6d90e7ad339.css" as="style"/><link rel="stylesheet" href="/nextjs-blog/_next/static/css/0275f6d90e7ad339.css" data-n-g=""/><link rel="preload" href="/nextjs-blog/_next/static/css/c39f9723b4064ac0.css" as="style"/><link rel="stylesheet" href="/nextjs-blog/_next/static/css/c39f9723b4064ac0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/nextjs-blog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/nextjs-blog/_next/static/chunks/webpack-0e32f72e805169dc.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/main-3e20e5491652f683.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/pages/_app-73483fad2904193b.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/254-4b0e9b7fe0890671.js" defer=""></script><script src="/nextjs-blog/_next/static/chunks/pages/posts/%5Bid%5D-bcb1c2b593fda004.js" defer=""></script><script src="/nextjs-blog/_next/static/eLFcq6OHxO2tpxyp3kvzf/_buildManifest.js" defer=""></script><script src="/nextjs-blog/_next/static/eLFcq6OHxO2tpxyp3kvzf/_ssgManifest.js" defer=""></script><script src="/nextjs-blog/_next/static/eLFcq6OHxO2tpxyp3kvzf/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="layout_container__fbLkO"><header class="layout_header__kY0Lt"><a href="/nextjs-blog"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27108%27%20height=%27108%27/%3e"/></span><img alt="Nilanshu V Rajmane" srcSet="/nextjs-blog/images/profile.jpg?imwidth=128 1x, /nextjs-blog/images/profile.jpg?imwidth=256 2x" src="/nextjs-blog/images/profile.jpg?imwidth=256" decoding="async" data-nimg="intrinsic" class="utils_borderCircle__s2nTm" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/></span></a><h2 class="utils_headingLg__5535D"><a class="utils_colorInherit__mSH_x" href="/nextjs-blog">Nilanshu V Rajmane</a></h2></header><main><article><h1 class="utils_headingXl__u25Y2">Deploying a static Next Js website to Github Pages</h1><div class="utils_lightText__eUzGY"><time dateTime="2022-02-15">February 15, 2022</time></div><div><p>Before proceeding let's make a few things clear about <strong>Github Pages</strong></p>
<ul>
<li>Github Pages is meant for hosting static websites, that is hosting plain old websites comprised of html, css and javascript.</li>
<li>Github processes your static website using Jekyll before hosting. This can easily be disabled by adding a <strong>.nojekyll</strong> file to the root directory of your website. This is required for two reasons
<ul>
<li>Jekyll can bring in unwanted changes or behaviors to a website that has already been created using NextJs</li>
<li>Jekyll ignores directories starting with an underscore while NextJs creates an _next directory after exporting a static website</li>
</ul>
</li>
</ul>
<p>I'm assuming that you have a static website ready waiting to be deployed but if not and you're new to NextJs then you can follow this simple yet awesome tutorial provided in the NextJs website <a href="https://nextjs.org/learn/basics/create-nextjs-app?utm_source=next-site&#x26;utm_medium=homepage-cta&#x26;utm_campaign=next-website">here</a></p>
<h3>Steps to deploy on Github Pages:</h3>
<ul>
<li>Open your project's Github page and click <strong>Actions</strong></li>
<li>Click on <strong>set up a workflow yourself</strong></li>
<li>Paste the following</li>
</ul>
<div class="remark-highlight"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># This is a basic workflow to help you get started with Actions</span>

<span class="token key atrule">name</span><span class="token punctuation">:</span> CI

<span class="token comment"># Controls when the workflow will run</span>
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token comment"># Triggers the workflow on push request events but only for the main branch</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> main <span class="token punctuation">]</span>

  <span class="token comment"># Allows you to run this workflow manually from the Actions tab</span>
  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span>

<span class="token comment"># A workflow run is made up of one or more jobs that can run sequentially or in parallel</span>
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token comment"># This workflow contains a single job called "build"</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token comment"># The type of runner that the job will run on</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest

    <span class="token comment"># Steps represent a sequence of tasks that will be executed as part of the job</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token comment"># Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
      <span class="token comment">#Uses node 16</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">'16'</span>
          
      <span class="token comment"># npm ci is a faster way to install modules on automated environments</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> install modules
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm ci
      
      <span class="token comment"># Build and export static</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build and export a static site
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run build <span class="token important">&#x26;&#x26;</span> npm run export

      <span class="token comment"># Deploy the build folder to gh-pages</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy build to gh<span class="token punctuation">-</span>pages
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> peaceiris/actions<span class="token punctuation">-</span>gh<span class="token punctuation">-</span>pages@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">github_token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">publish_dir</span><span class="token punctuation">:</span> ./out
          <span class="token key atrule">enable_jekyll</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

</code></pre></div>
<ul>
<li>Click <strong>Start Commit</strong> and after writing a commit message click <strong>Commit new file</strong></li>
<li>The above action should be enough to deploy your website. If your website isn't being hosted from your root url (example: xyz.github.io) but instead is being hosted on a branch url (example: xyz.github.io/blog) then there would be errors while fetching static files. Also if you're using the <strong>next/image</strong> tag of NextJs then there will also be errors while exporting your project as the default image loader won't work.</li>
<li>To fix these add a file named <strong>.env.production</strong> to the root directory of your NextJs project and paste something like the following</li>
</ul>
<div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">BASE_PATH=/nextjs-blog</code></pre></div>
<p>This is an environment variable that is referencing a branch url where the website and its static files will exist. NextJs will read this while building the project.</p>
<ul>
<li>Now add a file named <strong>next.config.js</strong> and paste the following</li>
</ul>
<div class="remark-highlight"><pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">distDir</span><span class="token operator">:</span> <span class="token string">'build'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">images</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'akamai'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">BASE_PATH</span> <span class="token operator">||</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">basePath</span><span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">BASE_PATH</span> <span class="token operator">||</span> <span class="token string">''</span>
<span class="token punctuation">}</span>
</code></pre></div>
<ul>
<li>The above file uses one of the possible image <a href="https://nextjs.org/docs/api-reference/next/image#built-in-loaders">loaders</a> and makes use of the base path available from the environment file</li>
<li>Once done, commit and push the project. The Github action will take care of building and deploying your website.</li>
</ul>
<h3>Possible Issues that may occur</h3>
<ul>
<li><strong>favicon</strong> may not display properly
<ul>
<li>This generally occurs when you're hosting on a branch url instead of root</li>
<li>One way to circumvent this is by using relative urls for favicon in each of your page. For example your index page might use a url <strong>"./favicon.ico"</strong> while sub-pages might use a url like <strong>"../favicon.ico"</strong> depending on the depth of the directory where your pages are present.</li>
<li>Check out my project <a href="https://github.com/nilanshu96/nextjs-blog">here</a> based on the nextjs-blog tutorial from the NextJs website. I've made slight changes to my project to circumvent this exact issue.</li>
</ul>
</li>
</ul></div></article></main><div class="layout_backToHome__9sjx_"><a href="/nextjs-blog">← Back to home</a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"next-github-pages","contentHtml":"\u003cp\u003eBefore proceeding let's make a few things clear about \u003cstrong\u003eGithub Pages\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGithub Pages is meant for hosting static websites, that is hosting plain old websites comprised of html, css and javascript.\u003c/li\u003e\n\u003cli\u003eGithub processes your static website using Jekyll before hosting. This can easily be disabled by adding a \u003cstrong\u003e.nojekyll\u003c/strong\u003e file to the root directory of your website. This is required for two reasons\n\u003cul\u003e\n\u003cli\u003eJekyll can bring in unwanted changes or behaviors to a website that has already been created using NextJs\u003c/li\u003e\n\u003cli\u003eJekyll ignores directories starting with an underscore while NextJs creates an _next directory after exporting a static website\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eI'm assuming that you have a static website ready waiting to be deployed but if not and you're new to NextJs then you can follow this simple yet awesome tutorial provided in the NextJs website \u003ca href=\"https://nextjs.org/learn/basics/create-nextjs-app?utm_source=next-site\u0026#x26;utm_medium=homepage-cta\u0026#x26;utm_campaign=next-website\"\u003ehere\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eSteps to deploy on Github Pages:\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eOpen your project's Github page and click \u003cstrong\u003eActions\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eClick on \u003cstrong\u003eset up a workflow yourself\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003ePaste the following\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-yaml\"\u003e\u003ccode class=\"language-yaml\"\u003e\u003cspan class=\"token comment\"\u003e# This is a basic workflow to help you get started with Actions\u003c/span\u003e\n\n\u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e CI\n\n\u003cspan class=\"token comment\"\u003e# Controls when the workflow will run\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003eon\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e# Triggers the workflow on push request events but only for the main branch\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003ebranches\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e main \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\n  \u003cspan class=\"token comment\"\u003e# Allows you to run this workflow manually from the Actions tab\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003eworkflow_dispatch\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# A workflow run is made up of one or more jobs that can run sequentially or in parallel\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003ejobs\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token comment\"\u003e# This workflow contains a single job called \"build\"\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003ebuild\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e# The type of runner that the job will run on\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003eruns-on\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e ubuntu\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003elatest\n\n    \u003cspan class=\"token comment\"\u003e# Steps represent a sequence of tasks that will be executed as part of the job\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003esteps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"token comment\"\u003e# Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e actions/checkout@v2\n      \u003cspan class=\"token comment\"\u003e#Uses node 16\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e actions/setup\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003enode@v2\n        \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003enode-version\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'16'\u003c/span\u003e\n          \n      \u003cspan class=\"token comment\"\u003e# npm ci is a faster way to install modules on automated environments\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e install modules\n        \u003cspan class=\"token key atrule\"\u003erun\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e npm ci\n      \n      \u003cspan class=\"token comment\"\u003e# Build and export static\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Build and export a static site\n        \u003cspan class=\"token key atrule\"\u003erun\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e npm run build \u003cspan class=\"token important\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e npm run export\n\n      \u003cspan class=\"token comment\"\u003e# Deploy the build folder to gh-pages\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Deploy build to gh\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003epages\n        \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e peaceiris/actions\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003egh\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003epages@v3\n        \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003egithub_token\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e secrets.GITHUB_TOKEN \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003epublish_dir\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e ./out\n          \u003cspan class=\"token key atrule\"\u003eenable_jekyll\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean important\"\u003efalse\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eClick \u003cstrong\u003eStart Commit\u003c/strong\u003e and after writing a commit message click \u003cstrong\u003eCommit new file\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eThe above action should be enough to deploy your website. If your website isn't being hosted from your root url (example: xyz.github.io) but instead is being hosted on a branch url (example: xyz.github.io/blog) then there would be errors while fetching static files. Also if you're using the \u003cstrong\u003enext/image\u003c/strong\u003e tag of NextJs then there will also be errors while exporting your project as the default image loader won't work.\u003c/li\u003e\n\u003cli\u003eTo fix these add a file named \u003cstrong\u003e.env.production\u003c/strong\u003e to the root directory of your NextJs project and paste something like the following\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-unknown\"\u003e\u003ccode class=\"language-unknown\"\u003eBASE_PATH=/nextjs-blog\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eThis is an environment variable that is referencing a branch url where the website and its static files will exist. NextJs will read this while building the project.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eNow add a file named \u003cstrong\u003enext.config.js\u003c/strong\u003e and paste the following\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003emodule\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eexports\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003edistDir\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'build'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003eimages\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token literal-property property\"\u003eloader\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'akamai'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"token literal-property property\"\u003epath\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eenv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eBASE_PATH\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token string\"\u003e'/'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"token literal-property property\"\u003ebasePath\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eenv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eBASE_PATH\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eThe above file uses one of the possible image \u003ca href=\"https://nextjs.org/docs/api-reference/next/image#built-in-loaders\"\u003eloaders\u003c/a\u003e and makes use of the base path available from the environment file\u003c/li\u003e\n\u003cli\u003eOnce done, commit and push the project. The Github action will take care of building and deploying your website.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003ePossible Issues that may occur\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003efavicon\u003c/strong\u003e may not display properly\n\u003cul\u003e\n\u003cli\u003eThis generally occurs when you're hosting on a branch url instead of root\u003c/li\u003e\n\u003cli\u003eOne way to circumvent this is by using relative urls for favicon in each of your page. For example your index page might use a url \u003cstrong\u003e\"./favicon.ico\"\u003c/strong\u003e while sub-pages might use a url like \u003cstrong\u003e\"../favicon.ico\"\u003c/strong\u003e depending on the depth of the directory where your pages are present.\u003c/li\u003e\n\u003cli\u003eCheck out my project \u003ca href=\"https://github.com/nilanshu96/nextjs-blog\"\u003ehere\u003c/a\u003e based on the nextjs-blog tutorial from the NextJs website. I've made slight changes to my project to circumvent this exact issue.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e","title":"Deploying a static Next Js website to Github Pages","date":"2022-02-15"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"next-github-pages"},"buildId":"eLFcq6OHxO2tpxyp3kvzf","assetPrefix":"/nextjs-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>